{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Telecom\\\\Documents\\\\ProyectosR\\\\AIDA\\\\src\\\\screens\\\\login-screen\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport styles from \"./../../styles/styles\";\nimport * as Animatable from 'react-native-animatable';\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport Feather from \"@expo/vector-icons/Feather\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { AuthContext } from \"../../helpers/context\";\nimport Users from \"../../services/users\";\nexport function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState({\n    user: '',\n    password: '',\n    check_textInputChange: false,\n    secureTextEntry: true,\n    isValidUser: true,\n    isValidPassword: true\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      data = _React$useState2[0],\n      setData = _React$useState2[1];\n\n  var _React$useContext = React.useContext(AuthContext),\n      signIn = _React$useContext.signIn;\n\n  var textInputChange = function textInputChange(val) {\n    if (val.trim().length >= 4) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        user: val,\n        check_textInputChange: true,\n        isValidUser: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        user: val,\n        check_textInputChange: false,\n        isValidUser: false\n      }));\n    }\n  };\n\n  var handlePasswordChange = function handlePasswordChange(pass) {\n    if (pass.trim().length >= 8) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: pass,\n        isValidPassword: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: pass,\n        isValidPassword: false\n      }));\n    }\n  };\n\n  var updateSecureTextEntry = function updateSecureTextEntry() {\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      secureTextEntry: !data.secureTextEntry\n    }));\n  };\n\n  var handleValidUser = function handleValidUser(val) {\n    if (val.trim().length >= 4) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        isValidUser: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        isValidUser: false\n      }));\n    }\n  };\n\n  var loginHandle = function loginHandle(user, password) {\n    var foundUser = Users.filter(function (item) {\n      return user == item.username && password == item.password;\n    });\n    console.log(user);\n    console.log(password);\n\n    if (data.user.length == 0 || data.password.length == 0) {\n      Alert.alert('Aviso', 'Nombre de usuario y contraseña no pueden quedar vacios', [{\n        text: 'Reintentar'\n      }]);\n      return;\n    }\n\n    if (foundUser.length == 0) {\n      Alert.alert('Datos incorrectos', 'El usuario o la contraseña no son válidos', [{\n        text: 'Aceptar'\n      }]);\n      return;\n    }\n\n    signIn(foundUser);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, React.createElement(StatusBar, {\n    backgroundColor: \"#1e90ff\",\n    barStyle: \"light-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.text_header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"Bienvenid@!\")), React.createElement(Animatable.View, {\n    style: styles.footer,\n    animation: \"fadeInUpBig\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.text_footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \"Usuario\"), React.createElement(View, {\n    style: styles.action,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, React.createElement(FontAwesome, {\n    name: \"user-o\",\n    color: \"#05375a\",\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Nombre de usuario\",\n    style: styles.textInput,\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(val) {\n      return textInputChange(val);\n    },\n    onEndEditing: function onEndEditing(e) {\n      return handleValidUser(e.nativeEvent.text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }), data.check_textInputChange ? React.createElement(Animatable.View, {\n    animation: \"bounceIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, React.createElement(Feather, {\n    name: \"check-circle\",\n    color: \"green\",\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  })) : null), data.isValidUser ? null : React.createElement(Animatable.View, {\n    animation: \"fadeInLeft\",\n    duration: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.errorMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, \"M\\xEDnimo 4 caracteres\")), React.createElement(Text, {\n    style: [styles.text_footer, {\n      marginTop: 35\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, \"Contrase\\xF1a\"), React.createElement(View, {\n    style: styles.action,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, React.createElement(Feather, {\n    name: \"lock\",\n    color: \"#05375a\",\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Contrase\\xF1a\",\n    secureTextEntry: data.secureTextEntry ? true : false,\n    style: styles.textInput,\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(pass) {\n      return handlePasswordChange(pass);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: updateSecureTextEntry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, data.secureTextEntry ? React.createElement(Feather, {\n    name: \"eye-off\",\n    color: \"grey\",\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }) : React.createElement(Feather, {\n    name: \"eye\",\n    color: \"grey\",\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }))), data.isValidPassword ? null : React.createElement(Animatable.View, {\n    animation: \"fadeInLeft\",\n    duration: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.errorMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, \"M\\xEDnimo 8 caracteres\")), React.createElement(View, {\n    style: styles.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.signIn,\n    onPress: function onPress() {\n      loginHandle(data.user, data.password);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.textSign,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  }, \"Acceder\"))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Registro nuevo');\n    },\n    style: [styles.signIn, {\n      borderColor: '#1e90ff',\n      borderWidth: 1,\n      marginTop: 15\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: [styles.textSign, {\n      color: '#1e90ff'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }\n  }, \" Crear cuenta \"))));\n}","map":{"version":3,"sources":["C:/Users/Telecom/Documents/ProyectosR/AIDA/src/screens/login-screen/index.js"],"names":["React","styles","Animatable","FontAwesome","Feather","StatusBar","AuthContext","Users","Login","navigation","useState","user","password","check_textInputChange","secureTextEntry","isValidUser","isValidPassword","data","setData","useContext","signIn","textInputChange","val","trim","length","handlePasswordChange","pass","updateSecureTextEntry","handleValidUser","loginHandle","foundUser","filter","item","username","console","log","Alert","alert","text","container","header","text_header","footer","text_footer","action","textInput","e","nativeEvent","errorMsg","marginTop","button","textSign","navigate","borderColor","borderWidth","color"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { View, Text, TextInput, TouchableOpacity, Button, Alert, Image,ScrollView } from 'react-native';\r\nimport styles from './../../styles/styles';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\r\nimport Feather from 'react-native-vector-icons/Feather';\r\nimport { StatusBar } from \"expo-status-bar\";\r\nimport { AuthContext } from \"../../helpers/context\";\r\nimport Users from \"../../services/users\";\r\n\r\n\r\nexport function Login({ navigation }) {\r\n    const [data, setData] = React.useState({\r\n        user: '',\r\n        password: '',\r\n        check_textInputChange: false,\r\n        secureTextEntry: true,\r\n        isValidUser: true,\r\n        isValidPassword: true\r\n    });\r\n\r\n    const { signIn } = React.useContext(AuthContext);\r\n\r\n    const textInputChange = (val) => {\r\n        if (val.trim().length >= 4) {\r\n            setData({\r\n                ...data,\r\n                user: val,\r\n                check_textInputChange: true,\r\n                isValidUser: true,\r\n            });\r\n        } else {\r\n            setData({\r\n                ...data,\r\n                user: val,\r\n                check_textInputChange: false,\r\n                isValidUser: false,\r\n            });\r\n        }\r\n    }\r\n    const handlePasswordChange = (pass) => {\r\n        if (pass.trim().length >= 8) {\r\n            setData({\r\n                ...data,\r\n                password: pass,\r\n                isValidPassword: true\r\n            });\r\n        } else {\r\n            setData({\r\n                ...data,\r\n                password: pass,\r\n                isValidPassword: false\r\n            });\r\n        }\r\n    }\r\n    const updateSecureTextEntry = () => {\r\n        setData({\r\n            ...data,\r\n            secureTextEntry: !data.secureTextEntry\r\n        });\r\n    }\r\n    const handleValidUser = (val) => {\r\n        if (val.trim().length >= 4) {\r\n            setData({\r\n                ...data,\r\n                isValidUser: true\r\n            });\r\n        } else {\r\n            setData({\r\n                ...data,\r\n                isValidUser: false\r\n            });\r\n        }\r\n    }\r\n\r\n    const loginHandle = (user, password) => {\r\n        const foundUser = Users.filter(item => {\r\n            return user == item.username && password == item.password;\r\n        }\r\n        );\r\n        console.log(user)\r\n        console.log(password)\r\n\r\n        if (data.user.length == 0 || data.password.length == 0) {\r\n            Alert.alert('Aviso', 'Nombre de usuario y contraseña no pueden quedar vacios', [\r\n                { text: 'Reintentar' }\r\n            ]);\r\n            return;\r\n        }\r\n\r\n        if (foundUser.length == 0) {\r\n            Alert.alert('Datos incorrectos', 'El usuario o la contraseña no son válidos', [\r\n                { text: 'Aceptar' }\r\n            ]);\r\n            return;\r\n        }\r\n\r\n        signIn(foundUser);\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <StatusBar backgroundColor='#1e90ff' barStyle=\"light-content\"></StatusBar>\r\n\r\n            <View style={styles.header}>\r\n                <Text style={styles.text_header}>Bienvenid@!</Text>\r\n            </View>\r\n\r\n            <Animatable.View style={styles.footer}\r\n                animation=\"fadeInUpBig\">\r\n\r\n                <Text style={styles.text_footer}>Usuario</Text>\r\n                <View style={styles.action}>\r\n                    <FontAwesome\r\n                        name=\"user-o\"\r\n                        color=\"#05375a\"\r\n                        size={20}></FontAwesome>\r\n                    <TextInput\r\n                        placeholder=\"Nombre de usuario\"\r\n                        style={styles.textInput}\r\n                        autoCapitalize=\"none\"\r\n                        onChangeText={(val) => textInputChange(val)}\r\n                        onEndEditing={(e) => handleValidUser(e.nativeEvent.text)}></TextInput>\r\n                    {data.check_textInputChange ?\r\n                        <Animatable.View\r\n                            animation=\"bounceIn\">\r\n                            <Feather\r\n                                name=\"check-circle\"\r\n                                color=\"green\"\r\n                                size={20}></Feather>\r\n                        </Animatable.View>\r\n                        : null}\r\n                </View>\r\n                {data.isValidUser ? null :\r\n                    <Animatable.View animation=\"fadeInLeft\" duration={500}>\r\n                        <Text style={styles.errorMsg}>Mínimo 4 caracteres</Text>\r\n                    </Animatable.View>\r\n                }\r\n\r\n                <Text\r\n                    style={[styles.text_footer, { marginTop: 35 }]}>Contraseña</Text>\r\n                <View style={styles.action}>\r\n                    <Feather\r\n                        name=\"lock\"\r\n                        color=\"#05375a\"\r\n                        size={20}></Feather>\r\n                    <TextInput\r\n                        placeholder=\"Contraseña\"\r\n                        secureTextEntry={data.secureTextEntry ? true : false}\r\n                        style={styles.textInput}\r\n                        autoCapitalize=\"none\"\r\n                        onChangeText={(pass) => handlePasswordChange(pass)}></TextInput>\r\n                    <TouchableOpacity\r\n                        onPress={updateSecureTextEntry}>\r\n                        {data.secureTextEntry ?\r\n                            <Feather\r\n                                name=\"eye-off\"\r\n                                color=\"grey\"\r\n                                size={20}></Feather>\r\n                            :\r\n                            <Feather\r\n                                name=\"eye\"\r\n                                color=\"grey\"\r\n                                size={20}></Feather>\r\n                        }\r\n                    </TouchableOpacity>\r\n                </View>\r\n                {data.isValidPassword ? null :\r\n                    <Animatable.View animation=\"fadeInLeft\" duration={500}>\r\n                        <Text style={styles.errorMsg}>Mínimo 8 caracteres</Text>\r\n                    </Animatable.View>\r\n                }\r\n\r\n                <View style={styles.button}>\r\n                    <TouchableOpacity style={styles.signIn}\r\n                        onPress={() => { loginHandle(data.user, data.password) }}>\r\n                        <Text style={styles.textSign}>Acceder</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n                <TouchableOpacity\r\n                    onPress={() => navigation.navigate('Registro nuevo')}\r\n                    style={[styles.signIn, {\r\n                        borderColor: '#1e90ff',\r\n                        borderWidth: 1,\r\n                        marginTop: 15\r\n                    }]}>\r\n                    <Text style={[styles.textSign, {\r\n                        color: '#1e90ff'\r\n                    }]}> Crear cuenta </Text>\r\n\r\n                </TouchableOpacity>\r\n            </Animatable.View>\r\n        </View>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}